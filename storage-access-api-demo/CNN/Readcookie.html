<!DOCTYPE html>
<html>
  <head>
    <title>CNN</title>
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css" integrity="sha384-nn4HPE8lTHyVtfCBi5yW9d20FjT8BJwUXyWZT9InLYax14RDjBj46LmSztkmNP9w" crossorigin="anonymous">
    <link rel="stylesheet" href="parent-frame.css">
  </head>
  <body>
    <main class="pure-g">
      <header class="pure-u-1">
        <h1>CNN</h1>
      </header>
      <section class="pure-u-1">
        <p>Current SharedId Received via post message: <span id="sharedId"></span></p>
      </section>
      <section class="pure-u-sm-1-2">
        <iframe src="http://sharedid.com:8888/postCookie.html" sandbox="allow-storage-access-by-user-activation allow-scripts allow-same-origin"></iframe>
      </section>
    </main>
  </body>
  <script>

    function handlePostMessage(event) {
     var sharedId = document.getElementById('sharedId');
      sharedId.innerText = event.data.data;
    }

    function init() {
      if (window.addEventListener) {
        window.addEventListener('message', handlePostMessage, false);
      } else {
        window.attachEvent('onmessage', handlePostMessage());
      }
    }
    window.onload = init();
  </script>
</html>
